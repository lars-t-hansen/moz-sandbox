;;; -*- mode: scheme -*-

(defmodule loop_test

  (defun- (pri32 (n i32)))
  
  (defun+ (run (n i32))
    (loop A
	  (pri32 n)
	  (if (zero? n) (break A))
	  (pri32 n)
	  (dec! n))))

(js "
var ins = new WebAssembly.Instance(loop_test, {'':{pri32:print}});
ins.exports.run(10);
")
