;;; -*- mode: scheme -*-

(defmodule let_test

 (defun (g1 (v i32)) v)
 (defun (g2 (v i64)) v)
 (defun (g3 (v f64)) v)

 (defun+ (run (n i32))
   (let ((k 1)
	 (j 3.14)
	 (h L.0))
     (g1 k)
     (g3 j)
     (g2 h))
   (let ((k L.1)
	 (h 3)
	 (v 0.0))
     (g1 h)
     (g2 k)
     (g3 v))))

(js "
var ins = new WebAssembly.Instance(let_test);
ins.exports.run(10);
")
